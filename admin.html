<!doctype html>
<html lang="it">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Admin Eventi | Antonio Tarantino</title>
    <meta name="description" content="Pannello admin per gestire gli eventi." />
    <meta name="robots" content="noindex, nofollow" />
    <link rel="icon" type="image/png" href="media/antonio-logo.png" sizes="32x32" />
    <link rel="apple-touch-icon" href="media/antonio-logo.png" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700&family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
    <script>
      window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
    </script>
    <script defer src="/_vercel/insights/script.js"></script>
  </head>
  <body class="admin-page">
    <main class="admin-shell">
      <div class="container admin-grid">
        <div class="admin-card" id="setupCard" hidden>
          <h1>Imposta password</h1>
          <p class="subtitle">Crea una password per accedere alla gestione eventi.</p>
          <form class="form" id="adminSetup">
            <input type="password" name="password" placeholder="Nuova password" required />
            <input type="password" name="confirm" placeholder="Conferma password" required />
            <button class="btn btn-primary" type="submit">Salva password</button>
          </form>
          <p class="form-status" id="setupStatus"></p>
        </div>

        <div class="admin-card" id="loginCard" hidden>
          <h1>Accesso Admin</h1>
          <p class="subtitle">Inserisci la password per gestire gli eventi.</p>
          <form class="form" id="adminLogin">
            <input type="password" name="password" placeholder="Password" required />
            <button class="btn btn-primary" type="submit">Accedi</button>
          </form>
          <p class="form-status" id="loginStatus"></p>
        </div>

        <div class="admin-card" id="adminPanel" hidden>
          <div class="admin-toolbar">
            <div>
              <h2>Gestione Eventi</h2>
              <p class="subtitle">Aggiungi eventi con luogo, mese, anno, descrizione e immagini.</p>
            </div>
            <div class="admin-actions">
              <button class="btn btn-ghost" type="button" id="logoutBtn">Esci</button>
              <button class="btn btn-outline" type="button" id="clearEvents">Svuota lista</button>
            </div>
          </div>

          <form class="form" id="eventForm">
            <input type="text" name="title" placeholder="Titolo evento" required />
            <input type="text" name="place" placeholder="Luogo (es. Lecce)" required />
            <div class="form-row">
              <input type="text" name="month" placeholder="Mese (es. Aprile)" required />
              <input type="text" name="year" placeholder="Anno (es. 2025)" required />
            </div>
            <textarea name="description" rows="4" placeholder="Descrizione breve" required></textarea>
            <textarea
              name="images"
              rows="3"
              placeholder="URL immagini separati da virgola (es. /media/img1.jpg, /media/img2.jpg)"
              required
            ></textarea>
            <button class="btn btn-primary" type="submit">Aggiungi evento</button>
          </form>

          <div class="admin-list" id="eventList"></div>
        </div>
      </div>
    </main>

    <script src="js/admin.js" defer></script>
  </body>
</html>
